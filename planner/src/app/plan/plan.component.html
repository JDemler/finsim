<div class="plan-item">
  <div class="plan-header">
    <h3>Plan {{ plan.id }}: {{ plan.type === 'savings' ? 'Savings' : plan.type === 'withdrawal' ? 'Withdrawal' : 'Salary' }}</h3>
  </div>

  <div class="input-group" *ngIf="showPercentageToggle">
    <label>Savings Type:</label>
    <select [(ngModel)]="plan.isPercentage" (ngModelChange)="onInputChange()">
      <option [ngValue]="false">Fixed Amount</option>
      <option [ngValue]="true">Percentage of Cash Flow</option>
    </select>
  </div>

  <div class="input-group">
    <label>{{ inputLabel }}</label>
    <input type="number"
           [(ngModel)]="plan.amount"
           (ngModelChange)="onInputChange()"
           [step]="stepValue" />
    <span *ngIf="plan.type === 'savings' && plan.isPercentage">%</span>
  </div>

  <div class="input-group" *ngIf="plan.type === 'salary'">
    <label>Yearly Increase (%):</label>
    <input type="number"
           [(ngModel)]="plan.yearlyIncrease"
           (ngModelChange)="onInputChange()"
           step="0.1" />
  </div>

  <div class="input-group">
    <label>Start from Year:</label>
    <input type="number"
           [(ngModel)]="plan.startYear"
           (ngModelChange)="onInputChange()"
           min="0" max="25" />
  </div>

  <div class="input-group">
    <label>Duration (years):</label>
    <input type="number"
           [(ngModel)]="plan.duration"
           (ngModelChange)="onInputChange()"
           min="1" max="25" />
  </div>

  <button class="remove-plan" (click)="onRemove()">Remove Plan</button>
</div>
